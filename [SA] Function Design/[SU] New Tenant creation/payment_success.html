<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Successful</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f5f7fa; color: #333; line-height: 1.6; }
        .container { max-width: 600px; margin: 0 auto; padding: 40px 20px; text-align: center; }
        .success-card { background: white; border-radius: 16px; padding: 48px 32px; box-shadow: 0 8px 24px rgba(0,0,0,0.1); margin-bottom: 32px; }
        .success-icon { font-size: 64px; margin-bottom: 24px; }
        .success-title { font-size: 28px; font-weight: 700; color: #2c3e50; margin-bottom: 16px; }
        .success-message { font-size: 16px; color: #6c757d; margin-bottom: 32px; line-height: 1.6; }
        .account-details { background: #f8f9fa; border-radius: 8px; padding: 24px; margin-bottom: 32px; text-align: left; }
        .detail-row { display: flex; justify-content: space-between; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #e9ecef; }
        .detail-row:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
        .detail-label { font-weight: 500; color: #495057; }
        .detail-value { font-weight: 600; color: #2c3e50; }
        .next-steps { background: #e7f3ff; border-left: 4px solid #007bff; padding: 24px; border-radius: 8px; margin-bottom: 32px; text-align: left; }
        .next-steps h3 { color: #007bff; margin-bottom: 12px; font-size: 18px; }
        .next-steps ul { margin: 0; padding-left: 20px; }
        .next-steps li { margin-bottom: 8px; color: #495057; }
        .actions { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; }
        .btn { padding: 14px 32px; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: 600; text-decoration: none; display: inline-flex; align-items: center; gap: 8px; transition: all .2s ease; }
        .btn-primary { background: #007bff; color: white; }
        .btn-primary:hover { background: #0056b3; transform: translateY(-1px); }
        .btn-outline { background: transparent; color: #6c757d; border: 2px solid #6c757d; }
        .btn-outline:hover { background: #6c757d; color: white; }
        .email-note { background: #d4edda; border-left: 4px solid #28a745; padding: 16px; border-radius: 4px; margin-top: 24px; font-size: 14px; color: #155724; }
        .email-note::before { content: 'üìß'; margin-right: 8px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="success-card">
            <div class="success-icon">‚úÖ</div>
            <h1 class="success-title">Payment Successful!</h1>
            <p class="success-message" id="successMessage">Your subscription has been activated and your account is now active!</p>
        </div>

        <div class="account-details">
            <h3 style="margin-bottom: 16px; color: #2c3e50;">Account Summary</h3>
            <div class="detail-row">
                <span class="detail-label">Account Type:</span>
                <span class="detail-value" id="accountTypeDisplay">Loading...</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Subscription Plan:</span>
                <span class="detail-value" id="planDisplay">Loading...</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Monthly Amount:</span>
                <span class="detail-value" id="amountDisplay">Loading...</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Next Billing Date:</span>
                <span class="detail-value" id="nextBillingDisplay">Loading...</span>
            </div>
        </div>

        <div class="next-steps">
            <h3>What happens next?</h3>
            <ul id="nextStepsList">
                <!-- Dynamic content based on account type -->
            </ul>
        </div>

        <div class="actions">
            <a href="auth_signin.html" class="btn btn-primary">
                Sign In to Your Account ‚Üí
            </a>
            <a href="account_type_selection.html" class="btn btn-outline">
                ‚Üê Back to Home
            </a>
        </div>

        <div class="email-note">
            You will receive email confirmations for your payment and account activation. If you don't see them, please check your spam folder.
        </div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const accountType = urlParams.get('type') || localStorage.getItem('accountType');
        const selectedPlan = urlParams.get('plan') || localStorage.getItem('selectedPlan');

        // Plan details
        const plans = {
            starter: { name: 'Starter Plan', price: 49 },
            professional: { name: 'Professional Plan', price: 99 },
            enterprise: { name: 'Enterprise Plan', price: 199 }
        };

        function loadAccountDetails() {
            // Set account type display
            const typeDisplay = accountType === 'franchisor' ? 'Franchisor' : 'Single Store';
            document.getElementById('accountTypeDisplay').textContent = typeDisplay;

            // Set plan display
            if (selectedPlan && plans[selectedPlan]) {
                document.getElementById('planDisplay').textContent = plans[selectedPlan].name;
                document.getElementById('amountDisplay').textContent = `$${plans[selectedPlan].price}/month`;
            }

            // Set next billing date (30 days from now)
            const nextBilling = new Date();
            nextBilling.setDate(nextBilling.getDate() + 30);
            document.getElementById('nextBillingDisplay').textContent = nextBilling.toLocaleDateString();

            // Set next steps based on account type
            const nextStepsList = document.getElementById('nextStepsList');
            if (accountType === 'franchisor') {
                nextStepsList.innerHTML = `
                    <li>Your franchisor account is now active and ready to use</li>
                    <li>Email invitations have been sent to your franchisees to join your network</li>
                    <li>Complete your brand identity and configuration setup</li>
                    <li>Access your franchisor dashboard to manage your network</li>
                    <li>Monitor franchisee onboarding progress and support</li>
                `;
            } else {
                nextStepsList.innerHTML = `
                    <li>Your store account is now active and ready to use</li>
                    <li>Complete your store setup (brand, payment, staff, services)</li>
                    <li>Access your store dashboard to start managing operations</li>
                    <li>Invite staff members and configure your services</li>
                    <li>Set up your operational preferences and branding</li>
                `;
            }

            // Update success message
            const successMsg = accountType === 'franchisor'
                ? "Your franchisor account is now active! Email invitations have been sent to your franchisees."
                : "Your store account is now active! You can start setting up your operations immediately.";

            document.getElementById('successMessage').textContent = successMsg;
        }

        // Load details on page load
        loadAccountDetails();

        // Clear stored data after successful payment
        localStorage.removeItem('selectedPlan');
        localStorage.removeItem('accountType');
        localStorage.removeItem('paymentCompleted');
    </script>
</body>
</html>
