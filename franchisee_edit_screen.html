<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Edit Franchisee â€” Prototype</title>
    <link rel="stylesheet" href="franchisee_styles.css">
</head>
<body data-base-domain="acme.datax.com">
    <aside class="sidebar">
        <div class="sidebar-brand">Franchise</div>
        <nav class="sidebar-nav">
            <a href="Franchisor_Home_New.html" class="menu-item">Home</a>
            <a href="#" class="menu-item">Logout</a>
        </nav>
    </aside>

    <div class="container">
        <header class="header">
            <h1>Edit Franchisee</h1>
        </header>

        <section class="card">
            <form id="editForm">
                <div class="form-row">
                    <label>Franchisee Name <span class="required">*</span>
                        <input id="name" name="name" required />
                    </label>
                </div>
                <div class="form-row">
                    <label>Branch / Unit Code (used for path, lowercase) <span class="required">*</span></label>
                    <div class="input-prefix">
                        <span class="prefix" id="urlPrefix">acme.datax.com/</span>
                        <input id="unitCode" name="unitCode" pattern="[a-z0-9-]{2,30}" placeholder="e.g. hanoi" required />
                    </div>
                    <div class="muted-sm" style="margin-top:6px;">Preview: <span id="tenantUrlPreviewText"></span></div>
                </div>
                <div class="form-row">
                    <label>Franchisee Owner Name
                        <input id="contactName" name="contactName" />
                    </label>
                </div>
                <div class="form-row">
                    <label>Franchisee Owner Email <span class="required">*</span>
                        <input id="contactEmail" name="contactEmail" type="email" required disabled />
                    </label>
                </div>
                <div class="form-row">
                    <label>Phone Number
                        <input id="phone" name="phone" type="tel" placeholder="e.g. +84 912 345 678" />
                    </label>
                </div>
                <div class="form-row">
                    <label>Street Address
                        <input id="street" name="street" placeholder="123 Main St" />
                    </label>
                </div>
                <div class="form-row">
                    <label>City
                        <input id="city" name="city" />
                    </label>
                </div>
                <div class="form-row">
                    <label>State / Province
                        <input id="state" name="state" />
                    </label>
                </div>
                <div class="form-row">
                    <label>Postal Code
                        <input id="postalCode" name="postalCode" />
                    </label>
                </div>
                <div class="form-row">
                    <label>Country
                        <input id="country" name="country" placeholder="e.g. US, VN" />
                    </label>
                </div>
                <div class="form-row">
                    <label>Notes
                        <textarea id="notes" name="notes"></textarea>
                    </label>
                </div>

                <div class="modal-actions">
                    <button type="button" id="cancelBtn" class="btn">Cancel</button>
                    <button type="submit" class="btn primary">Save Changes</button>
                    <!-- Inline action buttons: Resend Invite & Deactivate -->
                    <button type="button" id="resendBtn" class="btn small outline">Resend Invite</button>
                    <button type="button" id="deactivateBtn" class="btn small danger">Deactivate</button>
                </div>
                <div id="editError" class="form-error hidden"></div>
            </form>
        </section>
        <!-- duplicate action buttons removed; actions are inline with Save/Cancel -->
    </div>

    <!-- Deactivate confirmation modal -->
    <div id="deactivateModal" class="modal hidden" aria-hidden="true">
        <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="deactivateTitle">
            <h3 id="deactivateTitle">Confirm deactivation</h3>
            <p>This will deactivate / terminate this franchisee. They will lose access and the tenant will be marked as deactivated. This action can be reversed only by the system admin. Are you sure you want to continue?</p>
            <div class="modal-actions">
                <button id="deactivateCancelBtn" class="btn">Cancel</button>
                <button id="deactivateConfirmBtn" class="btn danger">Yes, Deactivate</button>
            </div>
        </div>
    </div>

    <script src="franchisee_edit.js"></script>
</body>
</html>